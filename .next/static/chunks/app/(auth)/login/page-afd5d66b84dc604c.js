(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{15874:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(11291),i=r(97451),a=r(95876),s=r(90718),o=r(40918),l=r(68630),u=r(70392),c=r(89064);function d(){let[e,t]=(0,i.useState)(""),[r,d]=(0,i.useState)(""),[f,m]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),g=(0,a.useRouter)(),{toast:b}=(0,l.dj)(),v=async t=>{t.preventDefault(),m(!0);try{let t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.trim(),password:r.trim()})}),n=await t.json().catch(()=>({}));if(!t.ok||!(null==n?void 0:n.ok)){let e=(null==n?void 0:n.error)||"HTTP ".concat(t.status);b({title:"Error de autenticaci\xf3n",description:e,variant:"destructive"});return}b({title:"Inicio de sesi\xf3n exitoso",description:"Bienvenido a Xel Chile"}),g.push("/dashboard")}catch(e){var n;b({title:"Error interno",description:null!=(n=null==e?void 0:e.message)?n:"Error inesperado",variant:"destructive"})}finally{m(!1)}};return(0,n.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,n.jsx)(o.p,{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"mt-1",placeholder:"tuemail@xelchile.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),(0,n.jsxs)("div",{className:"relative mt-1",children:[(0,n.jsx)(o.p,{type:h?"text":"password",value:r,onChange:e=>d(e.target.value),required:!0,className:"pr-10",placeholder:"••••••••",autoComplete:"current-password"}),(0,n.jsx)("button",{type:"button",onClick:()=>p(e=>!e),className:"absolute inset-y-0 right-3 inline-flex items-center text-gray-400 transition hover:text-gray-600","aria-label":h?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:h?(0,n.jsx)(u.A,{className:"h-4 w-4"}):(0,n.jsx)(c.A,{className:"h-4 w-4"})})]})]}),(0,n.jsx)(s.$,{type:"submit",disabled:f,className:"w-full",children:f?"Verificando...":"Iniciar Sesi\xf3n"})]})}},28912:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,17108,23)),Promise.resolve().then(r.bind(r,15874))},40918:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(11291),i=r(97451),a=r(93293);let s=i.forwardRef((e,t)=>{let{className:r,type:i,...s}=e;return(0,n.jsx)("input",{type:i,className:(0,a.cn)("flex h-11 w-full rounded-2xl border border-white/30 bg-white/70 px-4 text-sm text-foreground/80 shadow-inner ring-offset-transparent transition-all placeholder:text-foreground/40 focus-visible:border-primary focus-visible:bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 disabled:cursor-not-allowed disabled:opacity-60",r),ref:t,...s})});s.displayName="Input"},68630:(e,t,r)=>{"use strict";r.d(t,{dj:()=>d});var n=r(97451);let i=0,a=new Map,s=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},o=[],l={toasts:[]};function u(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),o.forEach(e=>{e(l)})}function c(e){let{...t}=e,r=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>u({type:"DISMISS_TOAST",toastId:r});return u({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function d(){let[e,t]=n.useState(l);return n.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u(e?{type:"DISMISS_TOAST",toastId:e}:{type:"DISMISS_TOAST"})}}},90718:(e,t,r)=>{"use strict";r.d(t,{$:()=>u});var n=r(11291),i=r(97451),a=r(26809),s=r(11263),o=r(93293);let l=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-transparent",{variants:{variant:{default:"border border-white/30 bg-white/70 text-foreground shadow-sm backdrop-blur-xl hover:bg-white/90 focus-visible:ring-primary/40 focus-visible:ring-offset-transparent",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/90 focus-visible:ring-destructive/40 focus-visible:ring-offset-transparent",outline:"border border-white/30 bg-transparent text-foreground/80 hover:bg-white/10 focus-visible:ring-primary/30 focus-visible:ring-offset-transparent",secondary:"border border-transparent bg-primary text-primary-foreground shadow-lg hover:bg-primary/90 focus-visible:ring-primary/40 focus-visible:ring-offset-transparent",ghost:"border border-transparent bg-transparent text-foreground/70 hover:bg-white/10",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80"},size:{default:"h-10 px-5",sm:"h-9 rounded-xl px-3.5",lg:"h-12 rounded-2xl px-8 text-base",icon:"h-10 w-10 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),u=i.forwardRef((e,t)=>{let{className:r,variant:i,size:s,asChild:u=!1,...c}=e,d=u?a.DX:"button";return(0,n.jsx)(d,{className:(0,o.cn)(l({variant:i,size:s,className:r})),ref:t,...c})});u.displayName="Button"},93293:(e,t,r)=>{"use strict";r.d(t,{IM:()=>h,Yq:()=>u,cn:()=>o,fw:()=>f,kz:()=>c,m7:()=>p,nr:()=>m,qA:()=>b,r6:()=>d,v7:()=>g,vv:()=>l});var n=r(41111),i=r(98358);function a(e){return null!=e?e:""}function s(e){if(!e)return new Date("Invalid Date");let t="string"==typeof e?new Date(e):e;return isNaN(t.getTime())?new Date("Invalid Date"):t}function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,n.$)(t))}function l(e){return new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0}).format(e)}function u(e){let t=s(null!=e?e:null);return isNaN(t.getTime())?"":new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"long",day:"numeric"}).format(t)}function c(e){let t=s(null!=e?e:null);return isNaN(t.getTime())?"":new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"2-digit",day:"2-digit"}).format(t)}function d(e){let t=s(null!=e?e:null);return isNaN(t.getTime())?"":new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}function f(e){let t=s(null!=e?e:null);if(isNaN(t.getTime()))return"Fecha inv\xe1lida";let r=(Date.now()-t.getTime())/1e3;return r<60?"hace unos segundos":r<3600?"hace ".concat(Math.floor(r/60)," minutos"):r<86400?"hace ".concat(Math.floor(r/3600)," horas"):r<2592e3?"hace ".concat(Math.floor(r/86400)," d\xedas"):r<31104e3?"hace ".concat(Math.floor(r/2592e3)," meses"):"hace ".concat(Math.floor(r/31104e3)," a\xf1os")}function m(e){let t=a(e).replace(/[^0-9kK]/g,"");if(t.length<8)return t;let r=t.slice(0,-1),n=t.slice(-1),i=r.replace(/\B(?=(\d{3})+(?!\d))/g,".");return"".concat(i,"-").concat(n)}function h(e){let t=a(e).trim();return t?t.split(/\s+/).map(e=>e[0]).join("").toUpperCase().slice(0,2):""}function p(e){let t=s(null!=e?e:null);if(isNaN(t.getTime()))return!1;let r=new Date;r.setHours(0,0,0,0);let n=new Date(t);return n.setHours(0,0,0,0),n<r}function g(e){let t="number"!=typeof e||isNaN(e)?0:e;if(t<=0)return"0 Bytes";let r=["Bytes","KB","MB","GB"],n=Math.min(Math.floor(Math.log(t)/Math.log(1024)),r.length-1),i=(t/Math.pow(1024,n)).toFixed(2);return"".concat(i," ").concat(r[n])}function b(e){let t=a(e),r=0;for(let e=0;e<t.length;e++)r=t.charCodeAt(e)+((r<<5)-r);let n=(r%360+360)%360;return"hsl(".concat(n,", 70%, 50%)")}}},e=>{e.O(0,[936,153,193,55,358],()=>e(e.s=28912)),_N_E=e.O()}]);