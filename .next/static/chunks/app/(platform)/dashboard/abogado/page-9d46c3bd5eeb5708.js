(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{848:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var a=s(11291),r=s(97451),l=s(93293);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{ref:t,className:(0,l.cn)("flex min-h-[100px] w-full rounded-2xl border border-white/30 bg-white/70 px-4 py-3 text-sm text-foreground/80 shadow-inner transition-all placeholder:text-foreground/40 focus-visible:border-primary focus-visible:bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 disabled:cursor-not-allowed disabled:opacity-60",s),...r})});i.displayName="Textarea"},9983:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(11291);s(97451);var r=s(11263),l=s(93293);let i=(0,r.F)("inline-flex items-center gap-1 rounded-full border px-3 py-0.5 text-xs font-medium tracking-tight transition-all focus:outline-none focus:ring-2 focus:ring-offset-2",{variants:{variant:{default:"border-white/30 bg-white/70 text-foreground/80 shadow-sm backdrop-blur-md",secondary:"border-white/20 bg-white/30 text-foreground/70",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/90",outline:"border-white/40 text-foreground/70",success:"border-transparent bg-emerald-500/15 text-emerald-500",warning:"border-transparent bg-amber-400/20 text-amber-600",info:"border-transparent bg-sky-500/15 text-sky-500"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:s}),t),...r})}},11762:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(92608).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},14485:(e,t,s)=>{Promise.resolve().then(s.bind(s,20946))},20042:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(92608).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},20946:(e,t,s)=>{"use strict";s.d(t,{LawyerDashboard:()=>B});var a=s(11291),r=s(64787),l=s.n(r),i=s(11762),n=s(57277),c=s(20042),d=s(90465),o=s(68671),x=s(96843),m=s(92608);let p=(0,m.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var u=s(49939),h=s(97451),f=s(59030);let b=(0,f.createServerReference)("408726cd8702e45372c9aeb218e63a414fb09c9c8c",f.callServer,void 0,f.findSourceMapURL,"createQuickLink"),g=(0,f.createServerReference)("402c1be61eed2230ae5fd800ccfdabbcf085703eca",f.callServer,void 0,f.findSourceMapURL,"deleteQuickLink"),y=(0,f.createServerReference)("00efda19a096f7cc66de135c1f9b071c6095227d36",f.callServer,void 0,f.findSourceMapURL,"listQuickLinks");var j=s(90718),v=s(40918),N=s(82596),w=s(68630),k=s(23403),A=s(67759);let S=(0,m.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function R(e){let{links:t}=e,{toast:s}=(0,w.dj)(),[r,l]=(0,h.useTransition)(),[i,n]=(0,h.useState)(t),c=(0,h.useRef)(null),d=async()=>{try{return await y()}catch(e){return i}};return(0,a.jsxs)(N.Zp,{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[(0,a.jsx)(N.aR,{className:"p-6 pb-4",children:(0,a.jsxs)(N.ZB,{className:"flex items-center justify-between text-sm font-semibold text-slate-800",children:["Accesos r\xe1pidos",r&&(0,a.jsx)(k.A,{className:"h-4 w-4 animate-spin text-sky-500"})]})}),(0,a.jsxs)(N.Wu,{className:"space-y-6 px-6 pb-6 pt-0",children:[(0,a.jsxs)("form",{ref:c,action:e=>{l(async()=>{var t,a;try{await b(e),s({title:"Enlace guardado",description:"Se agreg\xf3 a tus accesos r\xe1pidos."}),null==(t=c.current)||t.reset();let a=await d();n(a)}catch(e){s({title:"No se pudo guardar",description:null!=(a=null==e?void 0:e.message)?a:"Revisa la URL e intenta nuevamente.",variant:"destructive"})}})},className:"grid gap-3 md:grid-cols-3",children:[(0,a.jsx)(v.p,{name:"title",placeholder:"Nombre (Ej. Poder Judicial)",required:!0,disabled:r,className:"rounded-xl border-slate-200"}),(0,a.jsx)(v.p,{name:"url",placeholder:"https://...",type:"url",required:!0,disabled:r,className:"rounded-xl border-slate-200"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.p,{name:"category",placeholder:"Categor\xeda (opcional)",disabled:r,className:"rounded-xl border-slate-200"}),(0,a.jsx)(j.$,{type:"submit",disabled:r,children:"Agregar"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[0===i.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Sin enlaces guardados a\xfan."}),i.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-slate-900",children:e.title}),(0,a.jsxs)("a",{href:e.url,className:"inline-flex items-center gap-1 text-xs text-sky-600 hover:text-sky-700",target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(A.A,{className:"h-3 w-3"}),e.url]}),e.category&&(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Categor\xeda: ",e.category]})]}),(0,a.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{var t;return t=e.id,void l(async()=>{try{await g(t),s({title:"Enlace eliminado"}),n(e=>e.filter(e=>e.id!==t))}catch(t){var e;s({title:"No se pudo eliminar",description:null!=(e=null==t?void 0:t.message)?e:"Intenta nuevamente en unos minutos.",variant:"destructive"})}})},disabled:r,children:(0,a.jsx)(S,{className:"h-4 w-4 text-slate-400 hover:text-slate-600"})})]},e.id))]})]})]})}let T=(0,f.createServerReference)("40d7d2eefddec0438a373be7740678139e4c9ec978",f.callServer,void 0,f.findSourceMapURL,"createLegalTemplate"),_=(0,f.createServerReference)("0045e2a7167328d9bf5e50c0bdf9d73d978fb99122",f.callServer,void 0,f.findSourceMapURL,"listLegalTemplates");var C=s(848);let M=(0,m.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function D(e){let{templates:t}=e,s=(0,h.useRef)(null),{toast:r}=(0,w.dj)(),[l,i]=(0,h.useTransition)(),[n,c]=(0,h.useState)(t);return(0,a.jsxs)(N.Zp,{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[(0,a.jsx)(N.aR,{className:"p-6 pb-4",children:(0,a.jsxs)(N.ZB,{className:"flex items-center justify-between text-sm font-semibold text-slate-800",children:["Plantillas de gesti\xf3n",l&&(0,a.jsx)(k.A,{className:"h-4 w-4 animate-spin text-sky-500"})]})}),(0,a.jsxs)(N.Wu,{className:"space-y-6 px-6 pb-6 pt-0",children:[(0,a.jsxs)("form",{ref:s,action:e=>{i(async()=>{var t,a;try{await T(e),r({title:"Plantilla guardada",description:"Disponible para el equipo."}),null==(t=s.current)||t.reset();let a=await _().catch(()=>n);c(a)}catch(e){r({title:"No se pudo guardar",description:null!=(a=null==e?void 0:e.message)?a:"Intenta nuevamente m\xe1s tarde.",variant:"destructive"})}})},className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[(0,a.jsx)(v.p,{name:"title",placeholder:"T\xedtulo",required:!0,disabled:l,className:"rounded-xl border-slate-200"}),(0,a.jsx)(v.p,{name:"category",placeholder:"Categor\xeda (opcional)",disabled:l,className:"rounded-xl border-slate-200"}),(0,a.jsx)(j.$,{type:"submit",disabled:l,children:"Guardar plantilla"})]}),(0,a.jsx)(C.T,{name:"content",placeholder:"Cuerpo de la plantilla (compatible con copiar/pegar)",required:!0,disabled:l,className:"min-h-[160px] rounded-xl border-slate-200"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[0===n.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"A\xfan no hay plantillas guardadas."}),n.map(e=>(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-slate-900",children:e.title}),e.category&&(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e.category})]}),(0,a.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{var t;return t=e.content,void navigator.clipboard.writeText(t).then(()=>{r({title:"Plantilla copiada"})})},className:"text-sky-600 hover:text-sky-700",children:(0,a.jsx)(M,{className:"h-4 w-4"})})]}),(0,a.jsx)("pre",{className:"mt-3 whitespace-pre-wrap rounded-lg bg-white p-3 text-xs text-slate-600",children:e.content})]},e.id))]})]})]})}var E=s(9983),L=s(93293);let P={activo:"bg-emerald-50 text-emerald-700 border border-emerald-100",suspendido:"bg-amber-50 text-amber-700 border border-amber-100",archivado:"bg-slate-100 text-slate-600 border border-slate-200",terminado:"bg-sky-50 text-sky-700 border border-sky-100"},I={baja:"bg-emerald-50 text-emerald-700 border border-emerald-100",media:"bg-sky-50 text-sky-700 border border-sky-100",alta:"bg-amber-50 text-amber-700 border border-amber-100",urgente:"bg-red-50 text-red-600 border border-red-100"};function B(e){var t,s,r,m;let{profile:h,data:f,cases:b,quickLinks:g,templates:y}=e,j=f.stats;if(!j)return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-100 via-white to-slate-50 text-slate-900",children:(0,a.jsxs)("div",{className:"space-y-3 text-center",children:[(0,a.jsx)(i.A,{className:"mx-auto h-12 w-12 text-red-400"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"No pudimos cargar tu panel"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Refresca la p\xe1gina o int\xe9ntalo m\xe1s tarde."})]})});let v=b.filter(e=>"activo"===e.estado),w=[...b].sort((e,t)=>(t.fecha_inicio||"").localeCompare(e.fecha_inicio||"")).slice(0,6),k=(f.upcomingDeadlines||[]).slice(0,5),A=f.casesByStatus.reduce((e,t)=>e+t.count,0),S=k.length>0?k[0]:null,T=v.length>0?"Gestiona ".concat(v.length," caso").concat(1===v.length?"":"s"," activo").concat(1===v.length?"":"s"," y mant\xe9n tus pr\xf3ximos compromisos bajo control."):"Activa tus primeros casos y configura recordatorios para no perder hitos clave.",_=[{label:"Casos activos",value:j.activeCases,icon:n.A,caption:"De ".concat(j.totalCases," casos totales")},{label:"Solicitudes pendientes",value:j.pendingRequests,icon:c.A,caption:"Revisa mensajes en tu bandeja"},{label:"Pr\xf3ximas etapas",value:k.length,icon:d.A,caption:"Dentro de los pr\xf3ximos 30 d\xedas"},{label:"Notas y documentos",value:j.totalDocuments,icon:o.A,caption:"".concat(j.totalNotes," notas recientes")}];return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-slate-50 text-slate-900",children:(0,a.jsxs)("main",{className:"mx-auto flex max-w-6xl flex-col gap-8 px-4 pb-12 pt-6 sm:px-6 lg:px-8",children:[(0,a.jsxs)("section",{className:"grid gap-4 lg:grid-cols-[2fr_1.1fr]",children:[(0,a.jsx)(N.Zp,{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:(0,a.jsxs)(N.Wu,{className:"flex flex-col gap-6 p-6 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsx)("p",{className:"text-[11px] uppercase tracking-[0.25em] text-slate-400",children:"Panel de gesti\xf3n"}),(0,a.jsxs)("h1",{className:"text-2xl font-semibold tracking-tight",children:["Hola, ",h.nombre.split(" ")[0],"."]}),(0,a.jsx)("p",{className:"max-w-xl text-sm leading-relaxed text-slate-600",children:T})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3",children:[(0,a.jsx)("div",{className:"flex h-11 w-11 items-center justify-center rounded-full border border-slate-200 bg-white text-base font-semibold text-slate-700 shadow-inner",style:{background:"linear-gradient(135deg, ".concat((0,L.qA)(h.nombre)," 0%, rgba(255,255,255,0.92) 100%)")},children:(0,L.IM)(h.nombre)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:h.nombre}),(0,a.jsx)("p",{className:"text-xs capitalize text-slate-500",children:h.role.replace("_"," ")})]})]}),(0,a.jsx)(u.default,{})]})]})}),(0,a.jsxs)(N.Zp,{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[(0,a.jsx)(N.aR,{className:"p-6 pb-3",children:(0,a.jsxs)(N.ZB,{className:"flex items-center gap-2 text-sm font-semibold text-slate-800",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 text-sky-500"}),"Pr\xf3xima acci\xf3n"]})}),(0,a.jsxs)(N.Wu,{className:"space-y-4 px-6 pb-6 pt-0",children:[S?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:(null==(t=S.case)?void 0:t.caratulado)||"Caso sin t\xedtulo"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:(null==(s=S.case)?void 0:s.nombre_cliente)||"Cliente sin registro"})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-600",children:[(0,a.jsx)("span",{className:"font-medium text-slate-900",children:S.etapa}),S.fecha_programada&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mx-2 text-slate-400",children:"•"}),(0,a.jsx)("span",{children:(0,L.Yq)(S.fecha_programada)}),(0,a.jsxs)("span",{className:"ml-2 inline-flex items-center gap-1 text-xs text-sky-600",children:[(0,a.jsx)(x.A,{className:"h-3.5 w-3.5"}),(0,L.fw)(S.fecha_programada)]})]})]}),(0,a.jsxs)(l(),{href:"/cases/".concat(null!=(m=null==(r=S.case)?void 0:r.id)?m:""),className:"inline-flex items-center gap-1 text-sm font-medium text-sky-600 hover:text-sky-700",children:["Revisar caso",(0,a.jsx)(p,{className:"h-4 w-4"})]})]}):(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"A\xfan no tienes etapas programadas. Revisa tu cartera y agenda los pr\xf3ximos hitos."}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs text-slate-500",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[(0,a.jsx)("p",{className:"text-[11px] uppercase tracking-[0.18em]",children:"Solicitudes pendientes"}),(0,a.jsx)("p",{className:"mt-2 text-xl font-semibold text-slate-900",children:j.pendingRequests})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[(0,a.jsx)("p",{className:"text-[11px] uppercase tracking-[0.18em]",children:"Etapas vencidas"}),(0,a.jsx)("p",{className:"mt-2 text-xl font-semibold text-slate-900",children:j.overdueStages})]})]})]})]})]}),(0,a.jsx)("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:_.map(e=>(0,a.jsx)(N.Zp,{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:(0,a.jsxs)(N.Wu,{className:"space-y-3 p-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:e.label}),(0,a.jsx)(e.icon,{className:"h-4 w-4 text-slate-400"})]}),(0,a.jsx)("p",{className:"text-3xl font-semibold text-slate-900",children:e.value}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e.caption})]})},e.label))}),(0,a.jsxs)("section",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[(0,a.jsxs)(N.Zp,{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[(0,a.jsxs)(N.aR,{className:"flex flex-col gap-2 p-6 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.ZB,{className:"text-lg font-semibold text-slate-900",children:"Casos bajo tu responsabilidad"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Mantenlos al d\xeda para asegurar continuidad con tus clientes."})]}),(0,a.jsx)(l(),{href:"/cases",className:"text-sm font-medium text-sky-600 hover:text-sky-700",children:"Ver todos"})]}),(0,a.jsx)(N.Wu,{className:"p-0",children:0===w.length?(0,a.jsx)("div",{className:"px-6 py-12 text-sm text-slate-500",children:"A\xfan no tienes casos asignados. El administrador debe derivarte un expediente."}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-slate-100 text-sm",children:[(0,a.jsx)("thead",{className:"bg-slate-50/80 text-xs font-semibold uppercase tracking-[0.18em] text-slate-500",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Caso"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Cliente"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Estado"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Pr\xf3xima etapa"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Valor"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:"Acciones"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-100 text-slate-700",children:w.map(e=>{var t,s,r;let i=null==(t=e.case_stages)?void 0:t.find(e=>{var t;return(null!=(t=e.estado)?t:"")==="pendiente"});return(0,a.jsxs)("tr",{className:"transition hover:bg-slate-50/70",children:[(0,a.jsx)("td",{className:"px-6 py-4 align-top",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"font-semibold text-slate-900",children:e.caratulado}),e.numero_causa&&(0,a.jsx)("p",{className:"text-xs font-medium uppercase tracking-[0.18em] text-slate-400",children:e.numero_causa}),e.materia&&(0,a.jsx)(E.E,{variant:"outline",className:"border-slate-200 bg-slate-50 text-[11px] font-medium text-slate-600",children:e.materia})]})}),(0,a.jsx)("td",{className:"px-6 py-4 align-top",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"font-medium text-slate-800",children:e.nombre_cliente}),e.rut_cliente&&(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e.rut_cliente})]})}),(0,a.jsx)("td",{className:"px-6 py-4 align-top",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold capitalize ".concat(null!=(s=P[e.estado||""])?s:"bg-slate-100 text-slate-600 border border-slate-200"),children:e.estado||"sin estado"}),(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide ".concat(null!=(r=I[e.prioridad||"media"])?r:"bg-slate-100 text-slate-600 border border-slate-200"),children:e.prioridad||"media"})]})}),(0,a.jsx)("td",{className:"px-6 py-4 align-top",children:i?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:i.etapa}),i.fecha_programada?(0,a.jsx)("p",{className:"text-xs text-slate-500",children:(0,L.Yq)(i.fecha_programada)}):(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Sin fecha"})]}):(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"Sin etapa pendiente"})}),(0,a.jsx)("td",{className:"px-6 py-4 align-top font-semibold text-slate-900",children:e.valor_estimado?(0,L.vv)(e.valor_estimado):(0,a.jsx)("span",{className:"font-normal text-slate-400",children:"-"})}),(0,a.jsx)("td",{className:"px-6 py-4 align-top",children:(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsxs)(l(),{href:"/cases/".concat(e.id),className:"inline-flex items-center gap-1 text-sm font-medium text-sky-600 hover:text-sky-700",children:["Ver detalle",(0,a.jsx)(p,{className:"h-4 w-4"})]})})})]},e.id)})})]})})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(N.Zp,{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[(0,a.jsx)(N.aR,{className:"p-6 pb-4",children:(0,a.jsx)(N.ZB,{className:"text-sm font-semibold text-slate-800",children:"Panorama de tus casos"})}),(0,a.jsxs)(N.Wu,{className:"space-y-4 px-6 pb-6 pt-0",children:[0===f.casesByStatus.length?(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"A\xfan no hay suficientes datos para mostrar tu distribuci\xf3n."}):f.casesByStatus.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-slate-500",children:[(0,a.jsx)("span",{children:e.status.replace("_"," ")}),(0,a.jsx)("span",{className:"font-medium text-slate-700",children:e.count})]}),(0,a.jsx)("div",{className:"mt-2 h-2 rounded-full bg-slate-100",children:(0,a.jsx)("div",{className:"h-2 rounded-full bg-sky-400",style:{width:0===A?"0%":"".concat(e.percentage,"%")}})})]},e.status)),f.casesByPriority.length>0&&(0,a.jsxs)("div",{className:"mt-5 border-t border-slate-100 pt-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Prioridad"}),(0,a.jsx)("div",{className:"mt-3 grid grid-cols-2 gap-3",children:f.casesByPriority.map(e=>(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs",children:[(0,a.jsx)("p",{className:"uppercase tracking-wide text-slate-500",children:e.priority}),(0,a.jsx)("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:e.count})]},e.priority))})]})]})]}),(0,a.jsxs)(N.Zp,{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[(0,a.jsxs)(N.aR,{className:"flex flex-row items-center justify-between p-6 pb-4",children:[(0,a.jsxs)(N.ZB,{className:"flex items-center gap-2 text-sm font-semibold text-slate-800",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 text-sky-500"}),"Pr\xf3ximas etapas"]}),k.length>0&&(0,a.jsxs)("p",{className:"text-xs text-slate-400",children:[k.length," registro",1===k.length?"":"s"]})]}),(0,a.jsx)(N.Wu,{className:"space-y-3 px-6 pb-6 pt-0",children:0===k.length?(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"No hay etapas agendadas en los pr\xf3ximos 30 d\xedas."}):k.map(e=>{var t;return(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-slate-900",children:(null==(t=e.case)?void 0:t.caratulado)||"Caso sin t\xedtulo"}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Etapa: ",e.etapa]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-500",children:[(0,a.jsx)("span",{children:e.fecha_programada?(0,L.Yq)(e.fecha_programada):"Sin fecha"}),e.fecha_programada&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-sky-600",children:[(0,a.jsx)(x.A,{className:"h-3.5 w-3.5"}),(0,L.fw)(e.fecha_programada)]})]})]},e.id)})})]}),j.overdueStages>0&&(0,a.jsxs)(N.Zp,{className:"rounded-2xl border border-red-200 bg-red-50/90 p-5 text-red-700 shadow-sm",children:[(0,a.jsx)(N.aR,{className:"p-0 pb-3",children:(0,a.jsxs)(N.ZB,{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),"Etapas vencidas"]})}),(0,a.jsxs)(N.Wu,{className:"space-y-2 p-0 text-sm",children:[(0,a.jsxs)("p",{children:["Tienes ",j.overdueStages," etapa",1===j.overdueStages?"":"s"," que requieren acci\xf3n inmediata."]}),(0,a.jsx)("p",{className:"text-xs text-red-600/80",children:"Prioriza la reprogramaci\xf3n o actualizaci\xf3n del estado para evitar retrasos."})]})]})]})]}),(0,a.jsxs)("section",{className:"space-y-5",children:[(0,a.jsx)("h2",{className:"text-base font-semibold text-slate-800",children:"Herramientas r\xe1pidas"}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsx)(R,{links:g}),(0,a.jsx)(D,{templates:y})]})]})]})})}},23403:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(92608).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40918:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(11291),r=s(97451),l=s(93293);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-11 w-full rounded-2xl border border-white/30 bg-white/70 px-4 text-sm text-foreground/80 shadow-inner ring-offset-transparent transition-all placeholder:text-foreground/40 focus-visible:border-primary focus-visible:bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 disabled:cursor-not-allowed disabled:opacity-60",s),ref:t,...i})});i.displayName="Input"},49939:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(11291),r=s(97451),l=s(95876),i=s(90718);function n(){let[e,t]=(0,r.useState)(!1),s=(0,l.useRouter)(),n=async()=>{t(!0);try{await fetch("/api/logout",{method:"POST"}),s.replace("/login")}finally{t(!1)}};return(0,a.jsx)(i.$,{variant:"ghost",onClick:n,disabled:e,children:e?"Saliendo…":"Cerrar sesi\xf3n"})}},57277:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(92608).A)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},59030:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return r.findSourceMapURL}});let a=s(87233),r=s(89721),l=s(54661)},67759:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(92608).A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},68630:(e,t,s)=>{"use strict";s.d(t,{dj:()=>x});var a=s(97451);let r=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=[],c={toasts:[]};function d(e){c=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(c,e),n.forEach(e=>{e(c)})}function o(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(c);return a.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>d(e?{type:"DISMISS_TOAST",toastId:e}:{type:"DISMISS_TOAST"})}}},68671:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(92608).A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},82596:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>n});var a=s(11291),r=s(97451),l=s(93293);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-3xl border border-white/20 bg-white/70 text-card-foreground shadow-xl backdrop-blur-xl transition-colors",s),...r})});i.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 px-6 py-5",s),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("px-6 pb-6 pt-0 text-sm text-foreground/80",s),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},90465:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(92608).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},90718:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(11291),r=s(97451),l=s(26809),i=s(11263),n=s(93293);let c=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-transparent",{variants:{variant:{default:"border border-white/30 bg-white/70 text-foreground shadow-sm backdrop-blur-xl hover:bg-white/90 focus-visible:ring-primary/40 focus-visible:ring-offset-transparent",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/90 focus-visible:ring-destructive/40 focus-visible:ring-offset-transparent",outline:"border border-white/30 bg-transparent text-foreground/80 hover:bg-white/10 focus-visible:ring-primary/30 focus-visible:ring-offset-transparent",secondary:"border border-transparent bg-primary text-primary-foreground shadow-lg hover:bg-primary/90 focus-visible:ring-primary/40 focus-visible:ring-offset-transparent",ghost:"border border-transparent bg-transparent text-foreground/70 hover:bg-white/10",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80"},size:{default:"h-10 px-5",sm:"h-9 rounded-xl px-3.5",lg:"h-12 rounded-2xl px-8 text-base",icon:"h-10 w-10 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,...o}=e,x=d?l.DX:"button";return(0,a.jsx)(x,{className:(0,n.cn)(c({variant:r,size:i,className:s})),ref:t,...o})});d.displayName="Button"},92608:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(97451),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{color:i="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:o="",children:x,...m}=s;return(0,a.createElement)("svg",{ref:l,...r,width:n,height:n,stroke:i,strokeWidth:d?24*Number(c)/Number(n):c,className:["lucide","lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()),o].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(x)?x:[x]])});return s.displayName="".concat(e),s}},93293:(e,t,s)=>{"use strict";s.d(t,{IM:()=>u,Yq:()=>d,cn:()=>n,fw:()=>m,kz:()=>o,m7:()=>h,nr:()=>p,qA:()=>b,r6:()=>x,v7:()=>f,vv:()=>c});var a=s(41111),r=s(98358);function l(e){return null!=e?e:""}function i(e){if(!e)return new Date("Invalid Date");let t="string"==typeof e?new Date(e):e;return isNaN(t.getTime())?new Date("Invalid Date"):t}function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}function c(e){return new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0}).format(e)}function d(e){let t=i(null!=e?e:null);return isNaN(t.getTime())?"":new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"long",day:"numeric"}).format(t)}function o(e){let t=i(null!=e?e:null);return isNaN(t.getTime())?"":new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"2-digit",day:"2-digit"}).format(t)}function x(e){let t=i(null!=e?e:null);return isNaN(t.getTime())?"":new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}function m(e){let t=i(null!=e?e:null);if(isNaN(t.getTime()))return"Fecha inv\xe1lida";let s=(Date.now()-t.getTime())/1e3;return s<60?"hace unos segundos":s<3600?"hace ".concat(Math.floor(s/60)," minutos"):s<86400?"hace ".concat(Math.floor(s/3600)," horas"):s<2592e3?"hace ".concat(Math.floor(s/86400)," d\xedas"):s<31104e3?"hace ".concat(Math.floor(s/2592e3)," meses"):"hace ".concat(Math.floor(s/31104e3)," a\xf1os")}function p(e){let t=l(e).replace(/[^0-9kK]/g,"");if(t.length<8)return t;let s=t.slice(0,-1),a=t.slice(-1),r=s.replace(/\B(?=(\d{3})+(?!\d))/g,".");return"".concat(r,"-").concat(a)}function u(e){let t=l(e).trim();return t?t.split(/\s+/).map(e=>e[0]).join("").toUpperCase().slice(0,2):""}function h(e){let t=i(null!=e?e:null);if(isNaN(t.getTime()))return!1;let s=new Date;s.setHours(0,0,0,0);let a=new Date(t);return a.setHours(0,0,0,0),a<s}function f(e){let t="number"!=typeof e||isNaN(e)?0:e;if(t<=0)return"0 Bytes";let s=["Bytes","KB","MB","GB"],a=Math.min(Math.floor(Math.log(t)/Math.log(1024)),s.length-1),r=(t/Math.pow(1024,a)).toFixed(2);return"".concat(r," ").concat(s[a])}function b(e){let t=l(e),s=0;for(let e=0;e<t.length;e++)s=t.charCodeAt(e)+((s<<5)-s);let a=(s%360+360)%360;return"hsl(".concat(a,", 70%, 50%)")}},95876:(e,t,s)=>{"use strict";var a=s(91732);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},96843:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(92608).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])}},e=>{e.O(0,[936,787,193,55,358],()=>e(e.s=14485)),_N_E=e.O()}]);