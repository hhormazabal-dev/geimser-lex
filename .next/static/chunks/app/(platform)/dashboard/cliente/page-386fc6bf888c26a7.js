(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[783],{49939:(e,s,a)=>{"use strict";a.d(s,{default:()=>i});var t=a(11291),l=a(97451),c=a(95876),r=a(90718);function i(){let[e,s]=(0,l.useState)(!1),a=(0,c.useRouter)(),i=async()=>{s(!0);try{await fetch("/api/logout",{method:"POST"}),a.replace("/login")}finally{s(!1)}};return(0,t.jsx)(r.$,{variant:"ghost",onClick:i,disabled:e,children:e?"Saliendoâ€¦":"Cerrar sesi\xf3n"})}},96056:(e,s,a)=>{"use strict";a.d(s,{ClientDashboard:()=>_});var t=a(11291),l=a(97451),c=a(82596),r=a(9983),i=a(54997),n=a(14007),d=a(44722),x=a(25711),o=a(68668),m=a(93293),h=a(87442),u=a(96843),j=a(71428),g=a(89064),p=a(68671),b=a(64501),N=a(69719),v=a(27416),f=a(77297),y=a(89740),w=a(90465),A=a(49939);function _(e){var s,a,_,C;let{profile:S,cases:P}=e,[R,D]=(0,l.useState)(P[0]||null),[I,Z]=(0,l.useState)("overview"),k=R&&"object"==typeof R.abogado_responsable&&null!==R.abogado_responsable?R.abogado_responsable:null,M=e=>(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({activo:"bg-green-100 text-green-800",suspendido:"bg-yellow-100 text-yellow-800",archivado:"bg-gray-100 text-gray-800",terminado:"bg-blue-100 text-blue-800"}[e]||"bg-gray-100 text-gray-800"),children:e.charAt(0).toUpperCase()+e.slice(1)}),E=[{id:"overview",label:"Resumen",icon:g.A},{id:"timeline",label:"Progreso",icon:u.A},{id:"documents",label:"Documentos",icon:p.A},{id:"notes",label:"Notas",icon:b.A},{id:"messages",label:"Mensajes",icon:b.A},{id:"requests",label:"Solicitudes",icon:b.A}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(N.A,{className:"h-8 w-8 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Portal Cliente"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Xel Chile"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:S.nombre}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:null!=(s=S.email)?s:"Sin correo registrado"})]}),(0,t.jsx)("div",{className:"h-10 w-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:(0,m.qA)(S.nombre)},children:(0,m.IM)(S.nombre)}),(0,t.jsx)(A.default,{})]})]})})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{className:"text-lg",children:"Mis Casos"})}),(0,t.jsxs)(c.Wu,{className:"p-0",children:[(0,t.jsx)("div",{className:"space-y-1",children:P.map(e=>(0,t.jsx)("button",{onClick:()=>D(e),className:"w-full text-left p-4 hover:bg-gray-50 transition-colors ".concat((null==R?void 0:R.id)===e.id?"bg-blue-50 border-r-2 border-blue-600":""),children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-gray-900 line-clamp-2",children:e.caratulado}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[M(e.estado||"activo"),(e=>{switch(e){case"urgente":return(0,t.jsx)(h.A,{className:"h-4 w-4 text-red-600"});case"alta":return(0,t.jsx)(h.A,{className:"h-4 w-4 text-orange-600"});case"media":return(0,t.jsx)(u.A,{className:"h-4 w-4 text-blue-600"});default:return(0,t.jsx)(j.A,{className:"h-4 w-4 text-gray-600"})}})(e.prioridad||"media")]}),e.etapa_actual&&(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.etapa_actual})]})},e.id))}),0===P.length&&(0,t.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,t.jsx)(N.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,t.jsx)("p",{children:"No tienes casos asignados"})]})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:R?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(c.Zp,{children:(0,t.jsxs)(c.Wu,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:R.caratulado}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[R.numero_causa&&(0,t.jsxs)("span",{children:["Causa: ",R.numero_causa]}),R.materia&&(0,t.jsxs)("span",{children:["Materia: ",R.materia]}),R.tribunal&&(0,t.jsxs)("span",{children:["Tribunal: ",R.tribunal]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[M(R.estado||"activo"),R.etapa_actual&&(0,t.jsx)(r.E,{variant:"outline",children:R.etapa_actual})]})]}),k&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Abogado Responsable"]}),(0,t.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,t.jsx)("p",{children:null!=(a=k.nombre)?a:"Por confirmar"}),k.telefono&&(0,t.jsxs)("p",{className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"h-3 w-3 mr-1"}),k.telefono]}),k.email&&(0,t.jsxs)("p",{className:"flex items-center",children:[(0,t.jsx)(y.A,{className:"h-3 w-3 mr-1"}),k.email]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[R.fecha_inicio&&(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,t.jsx)(w.A,{className:"h-5 w-5 mx-auto mb-1 text-blue-600"}),(0,t.jsx)("p",{className:"text-xs text-blue-600 font-medium",children:"Fecha Inicio"}),(0,t.jsx)("p",{className:"text-sm text-blue-900",children:(0,m.Yq)(R.fecha_inicio)})]}),R.valor_estimado&&(0,t.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-lg mb-1 block",children:"\uD83D\uDCB0"}),(0,t.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"Valor Estimado"}),(0,t.jsx)("p",{className:"text-sm text-green-900",children:(0,m.vv)(R.valor_estimado)})]}),R.contraparte&&(0,t.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[(0,t.jsx)(v.A,{className:"h-5 w-5 mx-auto mb-1 text-orange-600"}),(0,t.jsx)("p",{className:"text-xs text-orange-600 font-medium",children:"Contraparte"}),(0,t.jsx)("p",{className:"text-sm text-orange-900",children:R.contraparte})]})]})]})}),(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",children:E.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>Z(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(I===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.label})]},e.id)})})}),(0,t.jsxs)("div",{className:"mt-6",children:["overview"===I&&(0,t.jsxs)("div",{className:"space-y-6",children:[R.observaciones&&(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{children:"Observaciones del Caso"})}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:R.observaciones})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{className:"text-lg",children:"Progreso Reciente"})}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)(d.S,{caseId:R.id,caseMateria:null!=(_=R.materia)?_:"General",canManageStages:!1,showPrivateStages:!1})})]}),(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{className:"text-lg",children:"Documentos Recientes"})}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)(n.$,{caseId:R.id,canUpload:!1,canEdit:!1,canDelete:!1,showPrivateDocuments:!1})})]})]})]}),"timeline"===I&&(0,t.jsx)(d.S,{caseId:R.id,caseMateria:null!=(C=R.materia)?C:"General",canManageStages:!1,showPrivateStages:!1}),"documents"===I&&(0,t.jsx)(n.$,{caseId:R.id,canUpload:!1,canEdit:!1,canDelete:!1,showPrivateDocuments:!1}),"notes"===I&&(0,t.jsx)(i._,{caseId:R.id,canCreateNotes:!1,canEditNotes:!1,showPrivateNotes:!1}),"messages"===I&&(0,t.jsx)(o.B,{caseId:R.id,initialMessages:[],currentProfileId:S.id,allowSend:!0}),"requests"===I&&(0,t.jsx)(x.L,{caseId:R.id,canCreateRequests:!0,canRespondRequests:!1,showPrivateRequests:!1})]})]}):(0,t.jsx)(c.Zp,{children:(0,t.jsx)(c.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(N.A,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Bienvenido al Portal Cliente"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Selecciona un caso de la lista para ver su informaci\xf3n detallada"})]})})})})]})})]})}},96323:(e,s,a)=>{Promise.resolve().then(a.bind(a,96056))}},e=>{e.O(0,[936,577,4,927,193,55,358],()=>e(e.s=96323)),_N_E=e.O()}]);