(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{9983:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(11291);t(97451);var r=t(11263),l=t(93293);let i=(0,r.F)("inline-flex items-center gap-1 rounded-full border px-3 py-0.5 text-xs font-medium tracking-tight transition-all focus:outline-none focus:ring-2 focus:ring-offset-2",{variants:{variant:{default:"border-white/30 bg-white/70 text-foreground/80 shadow-sm backdrop-blur-md",secondary:"border-white/20 bg-white/30 text-foreground/70",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/90",outline:"border-white/40 text-foreground/70",success:"border-transparent bg-emerald-500/15 text-emerald-500",warning:"border-transparent bg-amber-400/20 text-amber-600",info:"border-transparent bg-sky-500/15 text-sky-500"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...r})}},20042:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92608).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},27416:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92608).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},38417:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92608).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},41269:(e,s,t)=>{Promise.resolve().then(t.bind(t,92691))},49939:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});var a=t(11291),r=t(97451),l=t(95876),i=t(90718);function n(){let[e,s]=(0,r.useState)(!1),t=(0,l.useRouter)(),n=async()=>{s(!0);try{await fetch("/api/logout",{method:"POST"}),t.replace("/login")}finally{s(!1)}};return(0,a.jsx)(i.$,{variant:"ghost",onClick:n,disabled:e,children:e?"Saliendo…":"Cerrar sesi\xf3n"})}},57277:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92608).A)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},68671:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92608).A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},69719:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92608).A)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]])},82596:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>o,ZB:()=>c,Zp:()=>i,aR:()=>n});var a=t(11291),r=t(97451),l=t(93293);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-3xl border border-white/20 bg-white/70 text-card-foreground shadow-xl backdrop-blur-xl transition-colors",t),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 px-6 py-5",t),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("px-6 pb-6 pt-0 text-sm text-foreground/80",t),...r})});o.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},90465:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(92608).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},90718:(e,s,t)=>{"use strict";t.d(s,{$:()=>o});var a=t(11291),r=t(97451),l=t(26809),i=t(11263),n=t(93293);let c=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-transparent",{variants:{variant:{default:"border border-white/30 bg-white/70 text-foreground shadow-sm backdrop-blur-xl hover:bg-white/90 focus-visible:ring-primary/40 focus-visible:ring-offset-transparent",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/90 focus-visible:ring-destructive/40 focus-visible:ring-offset-transparent",outline:"border border-white/30 bg-transparent text-foreground/80 hover:bg-white/10 focus-visible:ring-primary/30 focus-visible:ring-offset-transparent",secondary:"border border-transparent bg-primary text-primary-foreground shadow-lg hover:bg-primary/90 focus-visible:ring-primary/40 focus-visible:ring-offset-transparent",ghost:"border border-transparent bg-transparent text-foreground/70 hover:bg-white/10",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80"},size:{default:"h-10 px-5",sm:"h-9 rounded-xl px-3.5",lg:"h-12 rounded-2xl px-8 text-base",icon:"h-10 w-10 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:o=!1,...d}=e,x=o?l.DX:"button";return(0,a.jsx)(x,{className:(0,n.cn)(c({variant:r,size:i,className:t})),ref:s,...d})});o.displayName="Button"},92691:(e,s,t)=>{"use strict";t.d(s,{AdminDashboard:()=>L});var a=t(11291),r=t(97451),l=t(64787),i=t.n(l),n=t(82596),c=t(90718),o=t(9983),d=t(93293),x=t(55448),m=t(13245),h=t(49716),u=t(11103),p=t(49043),f=t(52984),g=t(96131),b=t(83229),j=t(84178),y=t(38275),v=(0,f.gu)({chartName:"BarChart",GraphicalChild:g.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:b.W},{axisType:"yAxis",AxisComp:j.h}],formatAxisMap:y.pr}),N=t(44910),w=t(90964),k=t(55872),C=t(21410),A=t(11762),B=t(69719),R=t(90465),S=t(5294),D=t(20042),F=t(92608);let _=(0,F.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var M=t(27416);let T=(0,F.A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var Z=t(68671);let E=(0,F.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var I=t(57277),z=t(26181),P=t(38417);function W(e){let{stats:s,highlights:t}=e,[l,x]=(0,r.useState)(null),m=[{key:"cases",title:"Casos totales",value:s.totalCases,description:"".concat(s.activeCases," activos"),icon:I.A,iconClass:"text-sky-600 bg-sky-50 border border-sky-100",cardBorder:"border-sky-100",cardGlow:"from-sky-100 via-white to-transparent"},{key:"clients",title:"Clientes",value:s.totalClients,description:"Registrados en la firma",icon:z.A,iconClass:"text-emerald-600 bg-emerald-50 border border-emerald-100",cardBorder:"border-emerald-100",cardGlow:"from-emerald-100 via-white to-transparent"},{key:"documents",title:"Documentos",value:s.totalDocuments,description:"".concat(s.totalNotes," notas"),icon:Z.A,iconClass:"text-violet-600 bg-violet-50 border border-violet-100",cardBorder:"border-violet-100",cardGlow:"from-violet-100 via-white to-transparent"},{key:"pending",title:"Pendientes",value:s.pendingRequests,description:"".concat(s.overdueStages," vencidos"),icon:A.A,iconClass:"text-amber-600 bg-amber-50 border border-amber-100",cardBorder:"border-amber-100",cardGlow:"from-amber-100 via-white to-transparent"}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3.5 sm:grid-cols-2 xl:grid-cols-4",children:m.map(e=>{let{key:s,title:t,value:r,description:l,icon:i,iconClass:c,cardBorder:o,cardGlow:d}=e;return(0,a.jsxs)(n.Zp,{onClick:()=>x(s),className:"group relative cursor-pointer overflow-hidden border ".concat(o," bg-white/80 backdrop-blur-xl shadow-md transition-all hover:-translate-y-1 hover:shadow-lg"),children:[(0,a.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-br ".concat(d," opacity-0 transition-opacity group-hover:opacity-100")}),(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium text-slate-600",children:t}),(0,a.jsx)("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full ".concat(c),children:(0,a.jsx)(i,{className:"h-4 w-4"})})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-slate-900",children:r}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500",children:l})]})]},s)})}),l&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/30 backdrop-blur-sm px-4 py-10",onClick:()=>x(null),children:(0,a.jsxs)("div",{className:"relative w-full max-w-3xl rounded-3xl border border-slate-100 bg-white p-6 text-slate-900 shadow-2xl sm:p-8",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)(c.$,{size:"icon",variant:"ghost",className:"absolute right-4 top-4 h-9 w-9 rounded-full border border-slate-200 text-slate-500 hover:bg-slate-100",onClick:()=>x(null),children:[(0,a.jsx)(P.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Cerrar"})]}),(0,a.jsxs)("div",{className:"mb-6 flex items-center gap-2 text-sm text-slate-500",children:[(0,a.jsx)(R.A,{className:"h-4 w-4 text-slate-400"}),"Resumen actualizado en tiempo real"]}),(e=>{switch(e){case"cases":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Resumen de casos"}),(0,a.jsxs)(o.E,{variant:"outline",className:"border-slate-200 text-slate-600",children:[s.totalCases," casos • ",s.completedCases," completados"]})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[0===t.recentCases.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"No hay casos registrados todav\xeda."}),t.recentCases.map(e=>(0,a.jsxs)(i(),{href:"/cases/".concat(e.id),className:"group flex items-center justify-between rounded-2xl border border-slate-100 bg-white/80 px-4 py-3 transition-colors hover:border-sky-200/60 hover:bg-sky-50/70",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.caratulado}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[e.estado?"Estado: ".concat(e.estado):"Sin estado"," • ",e.prioridad?"Prioridad: ".concat(e.prioridad):"Sin prioridad"]}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:e.fecha_inicio?"Desde ".concat((0,d.Yq)(e.fecha_inicio)):"Fecha no registrada"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-sky-600",children:[e.valor_estimado?(0,d.vv)(e.valor_estimado):"Sin valor estimado",(0,a.jsx)(E,{className:"h-4 w-4 text-sky-400 opacity-60 group-hover:opacity-100"})]})]},e.id))]})]});case"clients":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Clientes recientes"}),(0,a.jsxs)(o.E,{variant:"outline",className:"border-slate-200 text-slate-600",children:[s.totalClients," clientes registrados"]})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[0===t.clients.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Todav\xeda no se han agregado clientes."}),t.clients.map(e=>{var s,t,r;return(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-white/80 px-4 py-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:null!=(s=e.nombre)?s:"Sin nombre"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:null!=(t=e.email)?t:"Sin correo"}),(0,a.jsxs)("p",{className:"text-xs text-slate-400",children:[null!=(r=e.telefono)?r:"Sin tel\xe9fono"," • ",e.created_at?"Alta: ".concat((0,d.Yq)(e.created_at)):"Fecha sin registrar"]})]},e.id)})]})]});case"documents":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Actividad documental"}),(0,a.jsxs)(o.E,{variant:"outline",className:"border-slate-200 text-slate-600",children:[s.totalDocuments," documentos • ",s.totalNotes," notas"]})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[0===t.documents.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"No hay documentos cargados todav\xeda."}),t.documents.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-2xl border border-slate-100 bg-white/80 px-4 py-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.nombre}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e.created_at?(0,d.Yq)(e.created_at):"Fecha no disponible"})]}),e.case_id&&(0,a.jsxs)(i(),{href:"/cases/".concat(e.case_id),className:"flex items-center gap-1 text-xs text-sky-600 hover:text-sky-800",children:["Ver caso",(0,a.jsx)(E,{className:"h-3 w-3 text-sky-400"})]})]},e.id))]})]});case"pending":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Alertas y pendientes"}),(0,a.jsxs)(o.E,{variant:"outline",className:"border-slate-200 text-slate-600",children:[s.pendingRequests," solicitudes • ",s.overdueStages," etapas vencidas"]})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[0===t.pending.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Sin pendientes. \xa1Excelente trabajo!"}),t.pending.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-2xl border border-slate-100 bg-white/80 px-4 py-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.titulo}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["solicitud"===e.tipo?"Solicitud de informaci\xf3n":"Etapa del caso",e.estado?" • ".concat(e.estado):""]}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:e.fecha?"Fecha l\xedmite: ".concat((0,d.Yq)(e.fecha)):"Sin fecha definida"})]}),e.case_id&&(0,a.jsxs)(i(),{href:"/cases/".concat(e.case_id),className:"flex items-center gap-1 text-xs text-sky-600 hover:text-sky-800",children:["Ir al caso",(0,a.jsx)(E,{className:"h-3 w-3 text-sky-400"})]})]},e.id))]})]})}})(l)]})})]})}var q=t(49939);let G={activo:"#10B981",suspendido:"#F59E0B",archivado:"#6B7280",terminado:"#3B82F6"},K={baja:"#10B981",media:"#3B82F6",alta:"#F59E0B",urgente:"#EF4444"},V="rounded-3xl border border-slate-100 bg-white/80 backdrop-blur-xl shadow-sm text-slate-900";function L(e){let{profile:s,data:t}=e,[l,f]=(0,r.useState)("6m"),y=t.stats;return y?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-slate-50 text-slate-900",children:(0,a.jsx)("main",{children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-5xl flex-col gap-8 px-4 pb-12 pt-3 sm:px-5 sm:pt-5 lg:px-6 lg:pt-0",children:[(0,a.jsx)("section",{className:"rounded-2xl border border-slate-100 bg-white/90 p-5 shadow-sm backdrop-blur-lg sm:p-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5 lg:flex-row lg:items-center lg:justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-sky-100 text-sky-600",children:(0,a.jsx)(B.A,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[11px] uppercase tracking-[0.25em] text-slate-400",children:"Panel ejecutivo"}),(0,a.jsx)("h1",{className:"mt-1 text-xl font-semibold tracking-tight text-slate-900",children:"Xel Chile \xb7 visi\xf3n consolidada"}),(0,a.jsx)("p",{className:"mt-2 max-w-xl text-xs leading-relaxed text-slate-500",children:"Supervisa indicadores clave, vencimientos y rendimiento del equipo desde una experiencia compacta alineada al nuevo sidebar."})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-3 sm:flex-row sm:items-center sm:gap-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-slate-100 bg-slate-50 px-3 py-2.5",children:[(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 bg-white font-medium text-slate-700 shadow-inner",style:{background:"linear-gradient(135deg, ".concat((0,d.qA)(s.nombre)," 0%, rgba(255,255,255,0.92) 100%)")},children:(0,d.IM)(s.nombre)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900 leading-none",children:s.nombre}),(0,a.jsx)("p",{className:"mt-1 text-[11px] text-slate-500 capitalize",children:s.role.replace("_"," ")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)(c.$,{asChild:!0,size:"sm",className:"rounded-full border border-slate-200 bg-slate-900 px-4 text-sm font-medium text-white shadow-sm hover:bg-slate-800",children:(0,a.jsx)(i(),{href:"/dashboard/admin/users",children:"Gestionar usuarios"})}),(0,a.jsx)(q.default,{})]})]})]})}),(0,a.jsxs)("section",{className:"space-y-5",children:[(0,a.jsx)("h2",{className:"text-base font-semibold text-slate-800",children:"Indicadores destacados"}),(0,a.jsx)(W,{stats:y,highlights:t.highlights})]}),(y.overdueStages>0||t.upcomingDeadlines.length>0)&&(0,a.jsxs)("section",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[y.overdueStages>0&&(0,a.jsxs)(n.Zp,{className:"".concat(V," border-red-200"),children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-red-600",children:[(0,a.jsx)(A.A,{className:"h-5 w-5"}),"Etapas vencidas (",y.overdueStages,")"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("p",{className:"text-sm text-red-600/80",children:["Hay ",y.overdueStages," etapas que superaron su fecha programada. Prioriza su revisi\xf3n para mantener la continuidad del caso."]})})]}),t.upcomingDeadlines.length>0&&(0,a.jsxs)(n.Zp,{className:V,children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(R.A,{className:"h-5 w-5 text-sky-500"}),"Pr\xf3ximos vencimientos"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-3",children:t.upcomingDeadlines.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-2xl border border-slate-100 bg-white/80 px-4 py-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.caratulado}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Pr\xf3xima etapa: ",e.proxima_etapa]})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:(0,d.Yq)(e.fecha)})]},s))})})]})]}),(0,a.jsxs)("section",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,a.jsxs)(n.Zp,{className:V,children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 text-emerald-500"}),"Distribuci\xf3n por estado"]}),(0,a.jsxs)(o.E,{variant:"outline",className:"border-slate-200 text-slate-600",children:[y.totalCases," casos totales"]})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:320,children:(0,a.jsxs)(m.r,{children:[(0,a.jsx)(h.F,{data:t.casesByStatus,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{status:s,percentage:t}=e;return"".concat(s," (").concat(t,"%)")},outerRadius:90,dataKey:"count",children:t.casesByStatus.map((e,s)=>(0,a.jsx)(u.f,{fill:G[e.status]||"#6B7280"},"cell-status-".concat(s)))}),(0,a.jsx)(p.m,{contentStyle:{background:"#ffffff",borderRadius:12,border:"1px solid rgba(148,163,184,0.2)",color:"#0f172a"}})]})})})]}),(0,a.jsxs)(n.Zp,{className:V,children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"h-5 w-5 text-indigo-600"}),"Casos por materia"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:320,children:(0,a.jsxs)(v,{data:t.casesByMateria,children:[(0,a.jsx)(N.d,{strokeDasharray:"3 3",stroke:"rgba(148,163,184,0.2)"}),(0,a.jsx)(b.W,{dataKey:"materia",stroke:"rgba(71,85,105,0.6)",tick:{fill:"rgba(71,85,105,0.8)",fontSize:12}}),(0,a.jsx)(j.h,{stroke:"rgba(71,85,105,0.6)",tick:{fill:"rgba(71,85,105,0.8)",fontSize:12}}),(0,a.jsx)(p.m,{contentStyle:{background:"#ffffff",borderRadius:12,border:"1px solid rgba(148,163,184,0.2)",color:"#0f172a"}}),(0,a.jsx)(g.y,{dataKey:"count",fill:"url(#materiaGradient)",radius:[9,9,0,0]}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"materiaGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#6366F1",stopOpacity:.9}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#14B8A6",stopOpacity:.7})]})})]})})})]})]}),(0,a.jsx)("section",{children:(0,a.jsxs)(n.Zp,{className:"".concat(V," mb-2"),children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(_,{className:"h-5 w-5 text-amber-500"}),"Evoluci\xf3n mensual"]}),(0,a.jsx)("div",{className:"flex gap-2",children:["3m","6m","12m"].map(e=>(0,a.jsx)(c.$,{size:"sm",variant:l===e?"default":"outline",className:l===e?"border border-slate-200 bg-slate-900 text-white hover:bg-slate-800":"border border-slate-200 bg-white text-slate-600 hover:bg-slate-50",onClick:()=>f(e),children:"3m"===e?"3 meses":"6m"===e?"6 meses":"12 meses"},e))})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:380,children:(0,a.jsxs)(w.b,{data:t.monthlyStats.slice(-("3m"===l?3:"6m"===l?6:12)),children:[(0,a.jsx)(N.d,{strokeDasharray:"3 3",stroke:"rgba(148,163,184,0.2)"}),(0,a.jsx)(b.W,{dataKey:"month",stroke:"rgba(71,85,105,0.6)",tick:{fill:"rgba(71,85,105,0.8)"}}),(0,a.jsx)(j.h,{yAxisId:"left",stroke:"rgba(71,85,105,0.6)",tick:{fill:"rgba(71,85,105,0.8)"}}),(0,a.jsx)(j.h,{yAxisId:"right",orientation:"right",stroke:"rgba(71,85,105,0.6)",tick:{fill:"rgba(71,85,105,0.8)"}}),(0,a.jsx)(p.m,{contentStyle:{background:"#ffffff",borderRadius:12,border:"1px solid rgba(148,163,184,0.2)",color:"#0f172a"},formatter:(e,s)=>["revenue"===s?(0,d.vv)(e):e,"newCases"===s?"Casos nuevos":"completedCases"===s?"Casos completados":"Ingresos"]}),(0,a.jsx)(k.s,{wrapperStyle:{color:"rgba(15,23,42,0.7)"},payload:[{value:"Casos nuevos",type:"square",color:"#38BDF8"},{value:"Casos completados",type:"square",color:"#22C55E"},{value:"Ingresos",type:"line",color:"#FACC15"}]}),(0,a.jsx)(g.y,{yAxisId:"left",dataKey:"newCases",fill:"#38BDF8",name:"Casos nuevos",radius:[8,8,0,0]}),(0,a.jsx)(g.y,{yAxisId:"left",dataKey:"completedCases",fill:"#22C55E",name:"Casos completados",radius:[8,8,0,0]}),(0,a.jsx)(C.N,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#FACC15",strokeWidth:2,name:"Ingresos"})]})})})]})}),"admin_firma"===s.role&&t.abogadoWorkload.length>0&&(0,a.jsx)("section",{children:(0,a.jsxs)(n.Zp,{className:V,children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(M.A,{className:"h-5 w-5 text-fuchsia-500"}),"Carga de trabajo por abogado"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:t.abogadoWorkload.map(e=>(0,a.jsxs)(i(),{href:"/dashboard/admin/lawyers/".concat(e.abogado_id),className:"flex items-center justify-between rounded-2xl border border-slate-100 bg-white/80 px-4 py-3 transition-colors hover:border-sky-200/60 hover:bg-sky-50/70",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full font-medium text-white shadow-inner",style:{background:(0,d.qA)(e.nombre)},children:(0,d.IM)(e.nombre)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-slate-900",children:e.nombre}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[e.activeCases," casos activos • ",e.completedCases," completados"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-semibold text-slate-900",children:(0,d.vv)(e.totalValue)}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Promedio: ",(0,d.vv)(e.avgCaseValue)]})]})]},e.abogado_id))})})]})}),(0,a.jsxs)("section",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,a.jsxs)(n.Zp,{className:V,children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(T,{className:"h-5 w-5 text-rose-500"}),"Prioridad de los casos"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-3",children:t.casesByPriority.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-slate-100 bg-white/80 px-4 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"h-3 w-3 rounded-full",style:{backgroundColor:K[e.priority]||"#6B7280"}}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900 capitalize",children:e.priority})]}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:[e.count," (",e.percentage,"%)"]})]},e.priority))})})]}),(0,a.jsxs)(n.Zp,{className:V,children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(H,{}),"\xdaltimas notas y documentos"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[t.highlights.documents.slice(0,4).map(e=>(0,a.jsxs)("div",{className:"rounded-xl border border-slate-100 bg-white/80 px-4 py-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.nombre}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e.created_at?(0,d.fw)(e.created_at):"Fecha no disponible"}),e.case_id&&(0,a.jsxs)(i(),{href:"/cases/".concat(e.case_id),className:"mt-1 inline-flex items-center gap-1 text-xs text-sky-600 hover:text-sky-800",children:["Ver caso",(0,a.jsx)(Y,{})]})]},e.id)),0===t.highlights.documents.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"No se han cargado documentos recientemente."})]})})]})]})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-slate-50 flex items-center justify-center text-slate-900",children:(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)(A.A,{className:"h-12 w-12 mx-auto text-red-400"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"No se pudieron cargar los datos"}),(0,a.jsx)("p",{className:"text-slate-500",children:"Intenta nuevamente en unos minutos."})]})})}let H=()=>(0,a.jsx)(Z.A,{className:"h-5 w-5 text-indigo-500"}),Y=()=>(0,a.jsx)(E,{className:"h-3 w-3 text-sky-600"})},93293:(e,s,t)=>{"use strict";t.d(s,{IM:()=>u,Yq:()=>o,cn:()=>n,fw:()=>m,kz:()=>d,m7:()=>p,nr:()=>h,qA:()=>g,r6:()=>x,v7:()=>f,vv:()=>c});var a=t(41111),r=t(98358);function l(e){return null!=e?e:""}function i(e){if(!e)return new Date("Invalid Date");let s="string"==typeof e?new Date(e):e;return isNaN(s.getTime())?new Date("Invalid Date"):s}function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function c(e){return new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0}).format(e)}function o(e){let s=i(null!=e?e:null);return isNaN(s.getTime())?"":new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"long",day:"numeric"}).format(s)}function d(e){let s=i(null!=e?e:null);return isNaN(s.getTime())?"":new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"2-digit",day:"2-digit"}).format(s)}function x(e){let s=i(null!=e?e:null);return isNaN(s.getTime())?"":new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(s)}function m(e){let s=i(null!=e?e:null);if(isNaN(s.getTime()))return"Fecha inv\xe1lida";let t=(Date.now()-s.getTime())/1e3;return t<60?"hace unos segundos":t<3600?"hace ".concat(Math.floor(t/60)," minutos"):t<86400?"hace ".concat(Math.floor(t/3600)," horas"):t<2592e3?"hace ".concat(Math.floor(t/86400)," d\xedas"):t<31104e3?"hace ".concat(Math.floor(t/2592e3)," meses"):"hace ".concat(Math.floor(t/31104e3)," a\xf1os")}function h(e){let s=l(e).replace(/[^0-9kK]/g,"");if(s.length<8)return s;let t=s.slice(0,-1),a=s.slice(-1),r=t.replace(/\B(?=(\d{3})+(?!\d))/g,".");return"".concat(r,"-").concat(a)}function u(e){let s=l(e).trim();return s?s.split(/\s+/).map(e=>e[0]).join("").toUpperCase().slice(0,2):""}function p(e){let s=i(null!=e?e:null);if(isNaN(s.getTime()))return!1;let t=new Date;t.setHours(0,0,0,0);let a=new Date(s);return a.setHours(0,0,0,0),a<t}function f(e){let s="number"!=typeof e||isNaN(e)?0:e;if(s<=0)return"0 Bytes";let t=["Bytes","KB","MB","GB"],a=Math.min(Math.floor(Math.log(s)/Math.log(1024)),t.length-1),r=(s/Math.pow(1024,a)).toFixed(2);return"".concat(r," ").concat(t[a])}function g(e){let s=l(e),t=0;for(let e=0;e<s.length;e++)t=s.charCodeAt(e)+((t<<5)-t);let a=(t%360+360)%360;return"hsl(".concat(a,", 70%, 50%)")}},95876:(e,s,t)=>{"use strict";var a=t(91732);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})}},e=>{e.O(0,[936,787,582,193,55,358],()=>e(e.s=41269)),_N_E=e.O()}]);